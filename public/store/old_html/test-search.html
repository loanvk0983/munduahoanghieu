<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Search</title>
</head>
<body>
  <h1>Test T√¨m Ki·∫øm</h1>
  
  <div>
    <input type="text" id="search-input" placeholder="Nh·∫≠p t·ª´ kh√≥a..." style="padding: 8px; width: 300px;">
    <button onclick="performSearch()" style="padding: 8px 16px; background: green; color: white; border: none; cursor: pointer;">T√¨m</button>
  </div>
  
  <div id="results" style="margin-top: 20px; padding: 20px; border: 1px solid #ccc;"></div>
  
  <script>
    // Mock data
    const mockNewsData = [
      {
        id: 1,
        title: 'L√†m th·∫ø n√†o ƒë·ªÉ ph√¢n bi·ªát m·ª•n d·ª´a ƒë√£ x·ª≠ l√Ω',
        excerpt: 'H∆∞·ªõng d·∫´n chi ti·∫øt...',
        content: 'N·ªôi dung v·ªÅ m·ª•n d·ª´a x·ª≠ l√Ω',
        cover: '/test.jpg',
        date: '23/10/2025',
        views: 0,
        categoryName: 'K·ªπ Thu·∫≠t',
        categories: ['techniques']
      },
      {
        id: 2,
        title: 'Nh·ªØng t√°c d·ª•ng c·ªßa x∆° d·ª´a ƒë·ªëi v·ªõi c√¢y tr·ªìng',
        excerpt: 'L·ª£i √≠ch c·ªßa x∆° d·ª´a...',
        content: 'X∆° d·ª´a gi√∫p c√¢y tr·ªìng ph√°t tri·ªÉn t·ªët',
        cover: '/test.jpg',
        date: '22/10/2025',
        views: 0,
        categoryName: 'L·ª£i √çch',
        categories: ['benefits']
      }
    ];
    
    const tips = [
      'M·∫πo canh t√°c: T∆∞·ªõi n∆∞·ªõc ƒë·ªÅu ƒë·∫∑n',
      'K·ªπ thu·∫≠t b√≥n ph√¢n hi·ªáu qu·∫£'
    ];
    
    const dailyTips = [
      'Ki·ªÉm tra ƒë·ªô ·∫©m ƒë·∫•t h√†ng ng√†y'
    ];
  </script>
  
  <script src="/js/news-search-simple.js"></script>
  
  <script>
    // Override displaySearchResults for testing
    function displaySearchResults(searchResults, query) {
      const resultsDiv = document.getElementById('results');
      
      let html = '<h2>K·∫øt qu·∫£ t√¨m ki·∫øm: "' + query + '"</h2>';
      
      if (searchResults.posts.length > 0) {
        html += '<h3>B√†i vi·∫øt (' + searchResults.posts.length + ')</h3>';
        searchResults.posts.forEach(post => {
          html += '<div style="padding: 10px; margin: 5px 0; background: #f0f0f0;">';
          html += '<strong>' + post.title + '</strong><br>';
          html += post.excerpt;
          html += '</div>';
        });
      }
      
      if (searchResults.tips.length > 0) {
        html += '<h3>M·∫πo (' + searchResults.tips.length + ')</h3>';
        searchResults.tips.forEach(tip => {
          html += '<div style="padding: 10px; margin: 5px 0; background: #fff3cd;">';
          html += tip;
          html += '</div>';
        });
      }
      
      if (searchResults.sections.length > 0) {
        html += '<h3>Sections (' + searchResults.sections.length + ')</h3>';
        searchResults.sections.forEach(section => {
          html += '<div style="padding: 10px; margin: 5px 0; background: #d1ecf1;">';
          html += section.icon + ' ' + section.title + '<br>';
          html += '<small>' + section.description + '</small>';
          html += '</div>';
        });
      }
      
      if (searchResults.posts.length === 0 && searchResults.tips.length === 0 && searchResults.sections.length === 0) {
        html += '<p style="color: red;">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o!</p>';
      }
      
      resultsDiv.innerHTML = html;
    }
    
    function handleSearchKeyPress(event) {
      if (event.key === 'Enter') {
        performSearch();
      }
    }
    
    // Auto test on load
    window.addEventListener('load', () => {
      console.log('üß™ Testing search...');
      console.log('mockNewsData:', mockNewsData);
      console.log('tips:', tips);
      console.log('typeof performSearch:', typeof performSearch);
      
      // Test search
      document.getElementById('search-input').value = 'm·ª•n d·ª´a';
      performSearch();
    });
  </script>
</body>
</html>
